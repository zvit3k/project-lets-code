<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<title></title>
</head>
<body>
<!--  accessing properties: th:text="${@environment.getProperty('myPropertyName')}" -->

<div th:if="${#lists.isEmpty(wrapper.list)}">
	<p>Niestety, nie mamy w bazie takich szkol!!! Może popełniłeś literówkę? Sprobuj ponownie!</p>
	<br/>Redirect to main page <a th:href="@{'/main'}">click here</a>
	<br/><a th:href="@{'/profile'}">Zaloguj</a>
</div>

<div th:unless="${#lists.isEmpty(wrapper.list)}">
	<form action="#" th:action="@{/sort}" method="get">
		<select name="sort">
			<option th:each="i : ${sortingChoice}" th:value="${i}" th:text="${i}"></option>
		</select>
		<input type="hidden" name="city" th:value="${city}" /> 
		<input type="submit" value="Sortuj" />
	</form>
	
	<div>
		<form action="#" th:action="@{/compare}" th:object="${wrapper}"
			method="post">
			<table>
				<tr>
					<th>Zaznacz</th>
					<th>Nazwa</th>
					<th>Cena</th>
					<th>Liczba godzin</th>
					<th>Typ kursu</th>
				</tr>
				<tr th:each="s, stat : ${wrapper.getList()}">
					<td><input type="checkbox" th:name="|list[${stat.index}].id|"
						th:value="${s.id}" /></td>
					<td th:text="${s.name}"></td>
					<td th:text="${s.price}"></td>
					<td th:text="${s.numberOfHours}"></td>
					<td>
						<table>
							<tr th:each="c : ${s.courseTypes}">
								<td th:text="${c.courseType}"></td></tr>
						</table>
					</td>
					<td><a th:href="@{schools/__${s.id}__}">Zobacz</a></td>
				</tr>
			</table>
			<input type="submit" value="Porownaj zaznaczone" />
		</form>

	</div>
	<br/>Redirect to main page
	<a th:href="@{'/main'}">click here</a>
	<br/><a th:href="@{'/profile'}">Zaloguj</a>
	</div>
</body>
</html>